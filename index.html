<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<button onClick="resetGrid()">Reset grid</button>
	<div class="wrapper"></div>

	<script>

		const wrapper = document.querySelector('.wrapper');
		buildGrid(11);
		let squares = Array.from(document.querySelectorAll('.cell'));
		squares.forEach(square => square.addEventListener('mouseover', setColor.bind(null, square)));

		function buildGrid(size) {
			for (var i = 0; i < Math.pow(size, 2); i++) {
				const square = document.createElement('div');
				square.classList.add('cell');
				square.setAttribute("id", i);
				wrapper.appendChild(square);
			}
			wrapper.style.gridTemplateColumns = `repeat(${size}, 1fr)`;

		}

		function setColor(square) {
			square.style.backgroundColor = getRandomColor();
		}

		function getRandomColor() {
		  var letters = '0123456789ABCDEF';
		  var color = '#';
		  for (var i = 0; i < 6; i++) {
		    color += letters[Math.floor(Math.random() * 16)];
		  }
		  return color;
		}

		function resetGrid(size=null) {
			squares.forEach(square => square.remove());
			size ? gridsize=size : gridsize = prompt("Insert a number for the grid size:");
			buildGrid(gridsize);
			squares = Array.from(document.querySelectorAll('.cell'));
			squares.forEach(square => square.addEventListener('mouseover', setColor.bind(null, square)));
		}
	</script>

</body>
</html>